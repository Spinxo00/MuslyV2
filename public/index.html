<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
  
  <!-- iOS PWA Meta Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Demus">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#000000">
  
  <title>Demus - Music Player</title>
  
  <!-- PWA -->
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%23FF2D55'/><path d='M30 70V40l8-3v30c-3 0-8 0-8 3zm18-25v30c-3 0-8 0-8 3V48l8-3zm18-5v30c-3 0-8 0-8 3V43l8-3z' fill='white'/></svg>">
  
  <!-- Styles -->
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <h1 class="app-title">Demus</h1>
        <div class="provider-tabs">
          <button class="tab-btn active" data-provider="audius">Audius</button>
          <button class="tab-btn" data-provider="youtube">YouTube</button>
          <button class="tab-btn" data-provider="soundcloud">SoundCloud</button>
        </div>
      </div>
    </header>

    <!-- Search/Input Section -->
    <div class="search-container">
      <div class="search-wrapper">
        <input type="text" id="searchInput" class="search-input" placeholder="Search songs on Audius..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
        <button id="searchBtn" class="search-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Results -->
    <div class="results-container">
      <div id="results" class="results"></div>
    </div>

    <!-- Queue -->
    <div id="queuePanel" class="queue-panel">
      <div class="queue-header">
        <h3>Queue</h3>
        <button id="clearQueue" class="text-btn">Clear</button>
      </div>
      <div id="queueList" class="queue-list"></div>
    </div>

    <!-- Mini Player -->
    <div id="miniPlayer" class="mini-player">
      <div class="mini-player-content">
        <img class="mini-artwork" id="miniArtwork" src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23333'/></svg>" alt="">
        <div class="mini-info">
          <div class="mini-title" id="miniTitle">Not Playing</div>
          <div class="mini-artist" id="miniArtist">—</div>
        </div>
        <button id="miniPlayBtn" class="mini-play-btn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M8 5v14l11-7z"/>
          </svg>
        </button>
      </div>
      <div class="mini-progress" id="miniProgress"></div>
    </div>

    <!-- Full Player -->
    <div id="fullPlayer" class="full-player">
      <div class="full-player-header">
        <button id="closePlayer" class="icon-btn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="m6 9 6 6 6-6"/>
          </svg>
        </button>
        <div class="full-player-title">Now Playing</div>
        <button id="showQueue" class="icon-btn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="12" x2="21" y2="12"/>
            <line x1="3" y1="6" x2="21" y2="6"/>
            <line x1="3" y1="18" x2="21" y2="18"/>
          </svg>
        </button>
      </div>
      
      <div class="full-player-content">
        <div class="artwork-container">
          <img id="fullArtwork" class="full-artwork" src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23333'/></svg>" alt="">
        </div>
        
        <div class="track-info">
          <div class="track-title" id="fullTitle">Not Playing</div>
          <div class="track-artist" id="fullArtist">—</div>
        </div>
        
        <div class="progress-container">
          <input type="range" id="progressSlider" class="progress-slider" min="0" max="100" value="0">
          <div class="time-display">
            <span id="currentTime">0:00</span>
            <span id="duration">0:00</span>
          </div>
        </div>
        
        <div class="controls">
          <button id="prevBtn" 
